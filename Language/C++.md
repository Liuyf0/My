## main函数

* main 函数有三个参数，`argc`、`argv`和 `envp`
* `argc`存放了程序参数的个数，包括程序本身。
* `argv`字符串的数组，存放了每个参数的值，包括程序本身。
* `envp`字符串的数组，存放了环境变量，数组的最后一个元素是空。

## 设置环境变量

```C++
int setenv(const char *name, const char *value, int overwrite);
```

* `name `环境变量名。
* `value`环境变量的值。
* `overwrite` 0-如果环境不存在，增加新的环境变量，如果环境变量已存在，不替换其值；非0-如果环境不存在，增加新的环境变量，如果环境变量已存在，替换其值。
* 返回值:0-成功;-1-失败（失败的情况极少见)。
* 注意:此函数设置的环境变量只对本进程有效，不会影响shell的环境变量。如果在运行程序时执行了 `setenv()`函数，进程终止后再次运行该程序，上次的设置是无效的。

## Linux的系统错误

在C++程序中，如果调用了库函数，可以通过函数的返回值判断调用是否成功。其实，还有一个整型的全局变量 `errno`，存放了函数调用过程中产生的错误代码。

如果调用库函数失败，可以通过 `errno`的值来查找原因，这也是调试程序的一个重要方法。

`errno`在 `<errno.h>`中声明。

配合 `strerror()`和 `perror()`两个库函数，可以查看出错的详细信息。

* 调用库函数失败不一定会设置 `errno`
* 并不是全部的库函数在调用失败时都会设置 `errno`的值，以 `man`手册为准(不属于系统调用的函数不会设置 `errno`，属于系统调用的函数才会设置 `errno`)。
* `errno`不能作为调用库函数失败的标志
* errno 的值只有在库函数调用发生错误时才会被设置，当库函数调用成功时，`errno`的值不会被修改，不会主动的置为0。
* 在实际开发中，判断函数执行是否成功还得靠函数的返回值，只有在返回值是失败的情况下，才需
