# ITCN：物联网中的智能信任协作网络系统（ITCN: An Intelligent Trust Collaboration Network System in IoT）

摘要：人工智能（AI）技术已广泛应用于物联网（物联网，IoT），其中的关键应用之一是从数十亿个物联网设备中收集智能数据。然而，许多基于人工智能的数据收集方法缺乏安全考虑，导致可用性受到限制。本文建立了一个智能信任协作网络系统（ITCN），通过与物联网中的移动车辆和无人机（UAV）的协作来收集数据。首先，通过与移动车辆和无人机的协作，提出了一个可感知截止日期的数据收集协作网络框架。第二，提出了一种主动的、可验证的信任评估方法来获取数据参与者的信任，从而保证了系统的安全性和隐私性。最后，提出了一种基于信任联合人工智能的无人机轨迹优化算法，尽可能多地收集基线数据，从而可以更准确地评估数据参与者的信任度，并以低成本在截止日期前收集数据。仿真结果表明，与仅使用无人机相比，ITCN降低了35.08%的成本，节省了58.32%，节省了58.32%，平均提高了33.34%的准确率。

索引术语-----------人工智能、物联网、信任协作网络、无人机、轨迹优化。





## 1 摘要

随着微处理器和通信技术[1]的发展，连接到物联网（物联网）的设备已经爆发了[2]-[4]。高德纳预测，到2020年，将有204亿台智能设备，每天生成的数据量将高达10 TB或更多。许多物联网设备被部署在物联网（IoT）应用场景中，如运输、环境监测、科学观察和安全监控[7]-[9]。在5G和超越5G（B5G）通信技术[10]、[11]的支持下，大量的智能物联网设备部署在更广泛的[12]中，因此物联网[13]-[15]的应用领域发生了巨大的变化，为智能物联网的出现奠定了基础。

智能物联网的基础在于有效的协作数据采集。协作网络系统被认为是一种重要的网络合作模式[16]。在这样的网络中，不同的领域和应用程序结合人工智能技术[17]-[19]，共同获取数据，充分挖掘数据中的信息，最大限度地提高了物联网的好处。[3]、[6]、[7]对物联网协同数据采集进行了一些研究。物联网中的一个协作网络系统可以如图1 [3]，[6]所示。在图1中，各种各样的物联网设备被部署在智能城市等大片地区。其中，移动车辆是在城市中移动的物联网设备，它可以实现对周围环境的数据感知，形成一个移动车辆网络[3]，[6]-[9]。在道路、桥梁、各种建筑和[7]、[15]、[20]、[21]等监测点上也部署了大量的物联网设备。考虑到部署成本和应用程序站点[6]、[7]、[15]的限制，其中一些物联网设备不能直接连接互联网。因此，许多物联网设备只能实现短距离无线通信

为了在这种情况下有效地进行协作数据收集，许多研究人员提出了有效的方法。例如，Bonola等人[7]提出了在智能城市使用移动车辆进行低成本数据收集。在他们的方案中，由于大量的移动车辆在城市中不断移动，当移动车辆在这些物联网设备的通信范围内移动时，就可以收集到数据。Bonola等人[7]的研究表明，利用移动车辆通过机会性路由收集数据是一种有效的、低成本的方法。Hu等[23]提出了一种移动车辆联合无人机（UAV）的数据收集方法。在他们的方法中，由于背带式数据收集的方法，移动车辆的成本较低。因此，在数据收集开始时，他们尝试使用移动车辆进行数据收集。当移动车辆无法采集部分数据时（物联网设备远离移动车辆的通信范围），则使用无人机进行数据采集[23]。事实上，关于使用无人机收集数据的研究已经相当多了。

爱卜拉希米等人[24]所采用的方法将无线网络划分为多个集群，其中集群头负责集群中的数据收集。然后无人机飞到每个集群的头部，收集每个集群的数据。由于无人机的轨迹优化问题是一个np困难问题，许多研究者提出应用人工智能（AI）算法对求解进行优化，取得了良好的[24]效果。

虽然一些研究者在物联网协同数据收集方面做了很好的研究，但以往的研究大多未能形成协同网络系统，很难为物联网数据采集提供基本的平台。此外，以往的战略是缺乏确保所收集数据的可信度的方法。它可能会损害物联网，因为泄露或恶意数据可能导致隐私泄漏、应用程序崩溃，甚至失去生命[8]。一些研究考虑了数据收集的信任问题。然而，目前还缺乏有效的信任评价方法。具体来说，以前的策略仍然存在以下两个缺陷。

1）以往的数据收集策略大多没有考虑数据收集中的信任问题，也没有考虑，但AI算法缺乏可信数据收集的有机集成，其效果不满足[15]。在以往的一些研究中，为了降低数据收集成本，将无人机轨迹优化问题抽象为旅行商问题（TSP）问题[23]、[24]，因此可以使用基于AI的算法来求解它。显然，这种策略不能满足真实网络中存在不可靠的数据收集器的情况。其他的研究则考虑了这些数据的可信度。然而，这种基于信任的策略的一般步骤是评估数据收集器的信任度，然后排除低信任度的数据收集器，然后使用AI算法进行优化。该方法在人工智能优化之前增加了信任评估，使得信任评估和数据收集的分离。内部连接的缺乏导致了效果的不令人满意。

2）现有方法的另一个主要缺点是缺乏一种有效的方法来评估数据收集者的可信度，这导致了数据收集的有效性的局限性。我们的研究发现，目前关于信任评价的研究大多是一种被动的信任获取机制，其核心是通过观察其行为[25]来评价对象。然而，这种方法很难应用于物联网。首先，很难观察到被评估对象的行为。在图1所示的物联网中，使用移动车辆作为数据收集器，其数据收集行为不能被其他车辆观察到，因此无法评估信任度，[3]，[6]。在无线传感器网络中，虽然相邻节点[26]可以观察到传感器节点的交互行为，但其相邻节点执行的信任评估只是单独的评估。系统无法获得其邻居节点的信任值，并确认其信任求值是否为真[26]。这种信任评估方法最大的缺点之一是通过外部交互来实际评估信任。但对于数据收集来说，最重要的是报告给系统的数据是否真实。如果只有真实的数据是可信的，那么当收集器报告虚假的数据时，它也是一种恶意行为，尽管存在发送数据的行为。很难检查收集器报告的数据是否正确。这是因为系统平台通过收集者收集数据，它需要收集真实的数据，并将其与报告的数据进行比较，以确定其可信度，这相当于收集相同的数据两次。成本是巨大的，同时也使数据收集器变得毫无意义。基于这种情况，很少有研究提出一种根据数据收集者提交的数据内容来检验其可信度的方法。

然而，随着各种新的数据收集方法的发展，这种非中心的、开放的物联网数据收集将变得普遍。在这种情况下，构建一个智能的信任协作网络系统是一个至关重要的问题。因此，本文建立了一个智能信任协作网络系统（ITCN），通过与物联网中的移动车辆和无人机（UAV）的协作来收集数据。本文的主要创新内容如下。

1)通过与移动车辆和无人机的协作，建立了一个可感知截止日期的数据收集协作网络系统。在这种协作网络系统中，使用移动车辆采用背带式方法来收集数据，这是一种成本非常低的方法。无人机用于收集移动车辆无法到达的数据，或其截止日期即将到来，以确保数据在截止日期之前收集，这对物联网至关重要。

2)提出了一种主动的、可验证的信任评估方法来获取数据收集者的信任度。在我们的方法中，当无人机收集数据时，一些附近被车辆覆盖的物联网设备也会发送它们自己的数据给无人机作为基线。通过将基线数据与移动车辆报告的数据进行比较，可以准确地评估移动车辆的信任度，并可以引导后续的移动车辆的招募，以进行可信的数据收集。

3)提出了一种基于信任联合人工智能的无人机轨迹优化算法来优化系统性能。与以往的研究针对固定点的轨迹优化不同，我们的轨迹优化是针对非固定的遍历点。轨迹优化算法必须同时实现两个目标：一方面，通过尽可能多的物联网设备收集尽可能多的基线数据，从而准确评估数据参与者的信任度；另一方面，保证在截止日期前以低成本收集未发现的数据。

本文的其余部分组织如下。在第二节中，对相关工作进行了回顾。系统模型和问题陈述见第三节。在第四节中，建立了一个智能信任协作网络系统（ITCN）。然后，第五节给出了实验结果。结论见第六节。





## 2 相关工作

由于物联网设备的快速发展，监控[27]的范围、粒度和实时性都发生了巨大的变化，促进了物联网[10]、[11]的发展。大量的物联网设备部署在网络[2]、[11]、[12]、[15]的边缘，因此存在巨大的计算和存储，使得当前的网络结构从云向边缘[18]、[28]-[31]转移。新的计算模型，如边缘计算、雾计算等。已经出现了。这些新的计算模型结合了人工智能技术的快速增长，使物联网的发展突飞猛进，[17]-[19]，[32]。这些应用程序的基础在于物联网设备[33]获得的丰富数据。虽然目前的边缘网络每天生成以tb为单位的数据，但快速可靠和低成本的数据收集仍然是[3]、[6]、[29]、[34]的一个挑战性问题。本节分为以下三个部分，讨论本文的一些相关研究内容。这些部分是： (1)数据采集方法物联网，这主要是一种低成本的数据采集方法。(2)物联网中数据收集的信任评估机制。(3)基于人工智能的无人机轨迹优化进行数据采集。

#### A.物联网中的数据收集方法

物联网设备被广泛应用于许多应用领域来监控环境。其中，研究最广泛的是无线传感器网络（WSNs）[15]、[24]。在wsn中，传感器节点自组织成一个网络，以感知需要监测的物理现象。在传统的wsn中，有一个特殊的节点称为接收节点连接到互联网，所以其他传感器节点只需要通过多跳路由将自己的数据发送到接收节点。然而，有时也会部署传感器节点，用于监测火灾、地震或地质灾害。在这些情况下，由于时间紧迫和缺乏基本的通信设施[35]，[36]，使用无人机收集数据也是一个很好的选择。爱卜拉希米等人提出了一种使用无人机收集数据的方法。

在他们的方法中，首先将WSN划分为簇。集群成员节点将它们自己的数据发送到集群头[24]。然后，无人机穿越每个集群头，收集网络的整个数据。而无人机飞行轨迹的优化是一个经典的TSP问题[24]，其目标是穿越每个簇头，最小化无人机的飞行距离。Guo等人[2]提出的方法是任务卸载，但无人机与物联网移动设备（IMDs）之间的任务卸载实际上是一个数据交换过程。他们的方法不使用聚类，而是让无人机飞到需要卸载的区域并在其上悬停一段时间，然后飞到下一个区域继续悬停，即悬停-飞-悬停（HFH）轨迹方法[2]。

Jiang等人[12]认为，聚类和允许无人机飞到每个集群头进行数据收集将会导致节点的大量能源消耗。因此，Jiang等人提出了利用无人机（TEEDC-UAV）进行节能数据收集的方案，以降低能耗[12]。在TEEDC-UAV方案中，无人机在穿越集群头时也会通过一些普通节点。此时，这些普通节点将成为集群头。这样可以减少节点到集群的跳数，在不增加无人机飞行距离的同时节省能源。另一方面，如果飞行距离略有增加，无人机可以通过更多的节点。然后更多的节点可以成为集群头，进一步降低能耗，因此TEEDC-UAV方案大大提高了网络寿命，UVA成本[12]。

使用移动车辆进行数据收集是另一种有效的、低成本的方法[6]、[7]、[15]、[34]，因为城市中的移动车辆大量存在，并且它们在不断移动。此外，路边还有大量的智能物联网设备，如路灯或垃圾桶，以监控感兴趣的物体。因此，Bonola等人[7]提出使用移动车辆作为数据骡子，以进行低成本的数据收集。Hu等人认为，只有依靠移动车辆，才能收集到该地区那些长期未被移动车辆传过的物联网设备的数据。因此，Hu等[23]提出在数据收集开始时使用移动车辆，在数据收集后期使用无人机收集，保证了低成本和收集的所有数据。

#### B.数据收集的信任评估机制

以往的数据收集策略都没有考虑到数据收集器（DC）[3]、[6]、[29]、[34]的可信度。事实上，有一些不可靠的DCs来报告虚假数据以获得奖励，甚至有一些恶意攻击者伪装成合法的DCs来报告恶意数据。应用程序是基于收集的数据构建的，因此虚假或恶意的数据会对应用程序造成严重损害，甚至造成重大灾难和人身伤害。因此，在这种情况下，可靠的数据收集尤为重要。

基于信任的数据收集的第一步是通过信任评估机制来区分对象的信任程度。然后选择信任度较高的对象进行数据收集。因此，最重要的是如何识别对象的信任程度，评估了[6]，[8]。wss中节点可信度的评价具有悠久的[26]历史。可分为分布式信任评价方法和集中式信任评价方法。最常用的方法是通过观察节点的数据操作行为是否符合正常的数据操作行为[8]来进行评估。例如，在发送方发送数据后，接收方将数据转发到下一个节点，实现到接收器的多跳路由。发送方也可以监控接收方何时发送数据，因此，如果发送方在指定时间内没有监控发送方的发送操作，则认为接收方已经丢弃了数据，其信任度降低了[26]。该方法通过观察相邻节点[8]的数据交互行为来进行信任评估。

信任评价机制具有一套信任推理和评价方法。其中，信托分为直接信托和间接信托[37]，[38]。直接信任是通过直接观察被评价对象的交互行为来进行评价。一般来说，直接信任被认为更准确和可靠，因为这会评估自己的对象体验。另一种类型的信任被称为间接信任[8]。间接信任指的是两个被评估的对象之间没有直接的交互，但它们可以通过与它们直接交互的对象进行连接。间接信任的计算一般使用信任推理链中的信任度的乘积。因此，间接信任关系会随着信任推理[38]水平的增加而减弱。一个被评估的对象通常具有直接信任和间接信任。因此，在总信任计算中，两者被加权并整合到一个综合信任值[8]，[26]中。

Wang等人。[8]认为，目前的信任评估机制可以分为两类：以云为中心和以节点为中心的信任评估机制[8]。以云为中心的信任评估机制实际上是一个为中心的信任评估机制，它将数据收集到云中，然后全面进行信任评估。以节点为中心的信任评估机制允许每个物联网设备观察其他物联网设备的交互行为，然后形成一个信任评估关系的交互信任信息[8]过去信任评估，节点的交互行为只能观察和评估邻居节点，这极大地限制了信任评估。因此，Wang等人提出了一种将电动车移动到被评估节点附近的方法，通过直接观察节点[8]的交互行为来进行信任评估。显然，用这种方式获得的信任程度更为准确。

然而，从研究中我们知道，现有的信任评估方法的两个最大的缺点是： (1)这种类型的信任评估方法是基于对被评估对象的交互行为的观察。对于数据收集，最重要的是确保提交的数据是真实的。但是，不能通过观察节点的交互行为来获得数据的真实性，因为在发送虚假或恶意数据时，恶意节点的外部性能仍然正常。在这种情况下，只有通过检查所发送的数据是否与真实数据相一致，才能给出准确的可信度评估。(2)在实践中，往往很难实现对交互行为的实时观察。

#### C. 基于人工智能的无人机轨迹优化

无人机是一种低成本、快速、有效的数据收集工具，近年来在[39]领域得到了广泛的研究。无人机飞行轨迹优化的目标是在最小化其飞行距离的同时收集所有的数据。在Ebrahimi等人[24]之前的研究中，无人机的飞行轨迹是一种经典的TSP优化方法，即无人机必须飞越几个固定的数据采集点。在Jiang等人的研究中，将这种不动点收集方法扩展到数据收集点不固定的。这样，无人机除了所有的集群头之外，还必须遍历尽可能多的节点，这样这些遍历的节点也可以成为集群头，这有助于降低数据收集的能量消耗。因此，Jiang等[12]的无人机轨迹优化算法更加复杂。在上述研究中，无人机没有与信任评估相结合，导致其弹道设计仍不能满足实际需求。Wang等人提出了使用电动汽车来获得信任，而电动汽车的轨迹优化也是一个重要的研究内容。然而，在这类研究中，使用电动汽车并不是一种数据收集的方法。因此，迫切需要一种结合信任评估和数据收集的无人机轨迹优化算法。





## 3 系统模型和问题说明

#### A.系统模型

本文中的系统模型与[6]中的系统模型相似。在系统模型中设置一个网络区域，其中部署n个固定的传感器节点，表示为集合s¼fs1；s2；s3…sng。这些传感器节点监控周围的环境，并感知需要收集并上传到数据中心的数据。但是，传感器节点的通信范围有限，使得远离数据中心的节点不能直接向数据中心传输数据。因此，有必要在网络区域招募车辆作为网络的数据采集器，收集传感器节点产生的数据。假设该区域有m辆移动车辆，当车辆在传感器节点的通信范围内移动时，数据可以被收集和上传。车辆被表示为集合V¼fv1；v2；v3…vmg。除了可以通过机会路由收集数据的车辆外，无人机也是一种数据收集工具，但它可以提前计划通过哪些节点，并且它收集的数据是可信的。当无人机移动到一定位置时，可以准确地采集到其通信范围内的节点数据，如图2所示。由车辆和无人机收集到的数据最终将被发送到这些数据中

#### B.问题陈述

本文的主要问题是设计一个适当地使用车辆和无人机来有效地收集无人机的方案在城市内部署的传感器节点的数据。车辆作为数据收集器是低成本和慢速度，而无人机是快速但昂贵的。另外，数据必须在截止日期前采集，否则将被传感器节点丢弃。在城市中，一些节点位于偏远地区，被车辆通过的概率很小，所以有可能有些数据在到达最后期限前没有被车辆收集到。为了确保数据能够完全上传到数据中心，当这些未发现数据的截止日期到来时，无人机被派去快速收集数据。但是，无人机的调度时间影响了收集效果：如果我们过早调度无人机，收集时间会缩短，但有很多裸露的节点，导致无人机飞行距离的增加，所以成本也会增加。相反，如果无人机发送得太晚，偏远地区的数据无法在截止日期前收集，这意味着丢失的数据包增加，车辆成本将随收集时间线性增加。因此，第一个问题是根据车辆收集的实际情况，选择合适的时间派遣无人机，以降低收集成本，同时确保数据可以在截止日期前收集。

其次，由于车辆是从多方大量招募的，我们不能完全保证所有车辆都是可信的。一些车辆的一些恶意行为可能会降低数据的准确性。另外，一些非活动的车辆很少通过传感器节点，因此提交到数据中心的数量太少，从而降低了收集的效果。因此，第二个问题是建立一个有效的车辆信任评价机制，通过观察车辆的行为来区分可信车辆和不可信车辆。然后，我们可以选择可信的和活跃的车辆作为数据收集器。由于数据中心负责无人机的调度和部署传感器节点，因此从节点到无人机的数据被认为是可信的。在飞行收集未覆盖节点的过程中，无人机还可以将一些已覆盖的数据作为基线数据传递到数据中心。将车辆提交的数据与基线数据进行比较，利用评价机制可以计算车辆的信任度，表示为trust¼ft1；t2；t3…tmg。信任评估机制不仅保证了数据的准确性，而且指导后续收集减少数据收集者的规模，进一步降低了收集成本。

无人机的主要目的是快速收集未发现节点的数据，防止数据满足截止日期。因此，为了降低无人机的收集成本，我们需要一种优化算法来缩短无人机的飞行距离。此外，也有必要确保无人机可以提供足够的基线数据信任评估，所以轨迹优化的目标不仅是减少飞行距离，但全面考虑路径的长度和基线数据的收集。因此，本文的第三个问题是为具有不确定遍历节点的无人机设计一个轨迹优化方案。在收集截止日期数据的基本要求下，适当偏移无人机轨迹，获得足够的覆盖节点数据，作为信任评估机制中使用的基线数据。

通过解决上述问题，可以合理地利用车辆和无人机来实现高效的数据采集，从而提高了系统的性能。我们主要定义了以下三个指标来评价方案的有效性，即优化方案与原方案在一定性能方面的比例。原方案被定义为使用所有车辆进行全职收集，而没有无人机。

1)成本率：成本率表示与原方案相比的成本降低，用c表示。优化方案的成本主要包括无人机的成本和通过信任评估选择的车辆的成本。原方案的费用只由所有车辆承担。在式(1)中，cv和cu分别表示单位时间内车辆和无人机的成本，tv和tu表示车辆和无人机的采集时间。我们使用选择来表示筛选出的车辆，ta是在原始方案中收集的总时间。

2)时间速率：时间速率表示优化方案与原方案相比的时间减少，用t表示。时间速率的计算方法为公式(2)。假设无人机以一定的速度飞行，所以收集时间tu与距离du成正比。

3)错误率：错误率是两种方案中错误数据包数的数量的比值，包括到达截止日期或错误收集的数据包。误差率用e表示，优化方案中的误差率越小，收集的精度越高。在公式(4)中，wvi是车辆不正确收集的数据包数，而le和la分别表示两种方案中达到截止日期的数据包数。

4)对象函数：上述指标代表了优化方案中各个方面的性能提高。在设计最优收集计划的过程中，我们需要定义一个客观的函数，它能全面地考虑绩效的各个方面。函数O为公式(5)，其中a、b和u是三个指标的权值。我们的最终目标是使目标函数的值达到最小值。

表一显示了系统模型和问题语句中的参数及其含义。





## 4 我们提出的ITCN系统

#### A 研究动机

1)截止日期感知数据收集的动机：在问题声明中，我们提到，使用移动车辆通过机会路由收集数据是一种可行的方法。如图3所示，车辆1和车辆2在行驶过程中采集了附近区域的传感器节点的数据。但是，一些节点部署在远离热点的地方，如图中的节点1和节点2。车辆很难进入其通信范围来收集其数据。如果车辆在经过较长时间后仍未收集该数据，则该数据可能会因到达截止日期而失效并被节点丢弃。因此，在ITCN中，为了确保所有数据能够在截止日期前收集，减少收集时间，我们设计派遣一架无人机快速收集未发现的节点。无人机和车辆的协作构成了一个截止时间感知的数据收集。然而，它已经分析在问题声明中，无人机的调度时间影响收集性能的各个方面，所以我们的目标是全面考虑系统的性能和设计一个算法找到最好的时间派遣无人机。

2)信任评估机制的动机：在无人机数据收集过程中，再次收集车辆已经交付的数据，可以为信任评估提供基线数据。在图4中，我们可以看到无人机通过了一些被覆盖的节点，获得了准确的数据。我们建立了一个信任评估机制，其中数据中心通过计算基线数据与车辆提供的数据之间的匹配度来评估车辆的信任得分。信任评估提供了三种更新信任分数的方法：增加分数（IS）、减少分数（DS）和超时惩罚（TP）。例如，在图4中，车辆1收集的数据与无人机提供的基线数据相匹配，因此在这一轮评估中，车辆1被认为是值得信赖的车辆，IS提高了其信任分数。相反，车辆2的数据与基线数据差异较大，因此DS降低了其信任分数。此外，TP还根据相邻采集时间的时间间隔来评估车辆的活动度。时间间隔越大，活动度就越低，因此信任分数下降得越多。经过多次轮更新，可以区分出可信和可信的车辆。这样，低信任度或可以过滤掉非活动的车辆，有利于提高收集效率，降低成本。

但是，由于成本的限制，无人机在收集过程中难以重新收集每个被覆盖节点的数据，导致无人机提供的基线数据量有限。因此，在信任评估过程中可能会发生这种情况：车辆已经交付了数据，但数据中心无法找到相应的基线数据进行判断，导致车辆的信任评分无法及时更新。在提出的信任评估机制中，我们的策略是利用信任得分高的代理车辆上传的数据作为从属基线数据，更新这些没有相应基线数据的车辆的信任得分。这样，就建立了公共车辆与代理车辆之间的间接信任关系。基于基线数据评估的信任称为直接信任。直接信任具有较高的准确性，但覆盖范围较窄，因此许多车辆的信任分数可能无法及时更新。但是，代理车辆已经被无人机授权，因此它们可以为评估提供大量高质量的数据，但缺点是间接信任的准确性低于直接信任。

3)无人机轨迹优化的动机：无人机的基本任务是收集未节点的数据。为了降低成本，我们优化了轨迹，使其最短，即对于几个固定的遍历节点。然而，在该系统中调度无人机的另一个目的是获取信任评估的基线数据。因此，如果只追求最短路径，就不能保证基线数据的量，就会降低信任评估的效率。我们希望在优化过程中，无人机的轨迹可以根据最短路径略微偏移，从而以较低的成本通过更多覆盖节点的基线数据，如图3中的蓝色曲线。在红框中，无人机已经获得了车辆1和车辆2的基线数据。然后可以应用图4中的评价机制来计算它们的信任得分

在所提出的优化方案中，如何选择合适的覆盖节点并将其添加到最短路径中是关键问题。我们的策略是将路径划分为几个段，然后遍历它们来搜索附近被覆盖的节点。搜索区域是每个段直径的圆形区域。为每个发现的覆盖节点设置一个评估值，该评估值由添加节点后路径长度的增量和节点与车辆的交互时间决定。交互时间越多，节点提供的数据可以作为更多车辆的基线，从而提高了数据的利用率。最后，选择求值值最小的节点并插入到段中

#### B.轨迹优化算法的设计

固定节点的轨迹优化与旅行推销员问题（TSP）非常相似。TSP的最终目标是找到具有最小距离的路径，让销售员访问每个城市一次。在我们的问题中，无人机还需要规划路径，即未发现节点的收集顺序，每个节点必须在一个收集轮中访问一次。为了降低无人机的飞行成本，缩短收集时间，我们的目标也是找到长度最短的轨迹。然而，对于我们的ITCN系统，无人机的目标不仅是收集所有未覆盖节点的数据，最小化路径长度，而且是在飞行期间收集被覆盖节点的基线数据，以进行信任评估。因此，我们还需要根据最短的轨迹进行二次优化，在轨迹周围添加被覆盖的节点，并控制轨迹长度的增量。

1)固定节点的轨迹优化设计：以往的一些工作已经设计或应用算法来规划无人机的轨迹。[12]设计了基于蚁群算法、[23]结合模拟退火算法和基于密度的空间聚类噪声应用（DBSCAN）的无人机飞行策略，这两种启发式算法都取得了良好的效果。本文提出了基于遗传算法的最小距离算法。具体步骤如下。

		1. 首先，建立了该问题的数学模型。这里我们定义了一个集合太阳¼fs1；s2；s3…sig表示未覆盖的传感器节点，它应该由无人机传递。无人机可以选择以不同的顺序通过这些节点。任意顺序g¼ðs4；s7…Þ表示其中一个轨迹：无人机从s4开始，然后飞到下一个节点s7：对于每个轨迹，都可以计算出飞行距离。我们的目标是找到节点的顺序，使du最小。轨迹g的du计算表示如下，其中djjþ1表示从g½j到g½jþ1.的距离订单g从g½1：开始几个随机生成的未覆盖节点的顺序构成了一个初始方案集G¼fg1；g2；g3……gxg。为了为无人机构建更好的路径，需要改变G中现有的订单，并根据计算出的du依次筛选较好的订单。
  		2. 结合不同的顺序来生成新的传感器节点的顺序。图5为组合的过程。从G中任意选择两个阶ga和gb，然后随机选择其中相同的位置作为交换点。接下来，ga和gb分别被分为两个部分。为了防止ga的前部分和gb的后部分直接组合出现重复节点导致无效解，首先从gb中删除ga前部分出现的节点。然后gb的其余部分将是新订单的前一部分，而ga的前一部分是后一部分。这样，一种新的顺序节点由两个订单的组合生成，为无人机提供了一个新的可用路径。将ga和gb的前一部分相结合，可以生成另一个新路径。每一轮组合后，G的容量将翻一番。
    		3. 交换在一个路径中的两个节点的位置。首先，设置G的交换概率m。对于G中的每一阶gk，在0到1的范围内生成一个随机数：如果随机数大于m，则保留gk，否则应该交换gk、sa和sb中两个不同节点的位置。在算法中随机选择sa和sb。公式(7)表示sa和sb在gk中的位置：这些点表示在这两个随机选择的节点的前面或后面还有其他几个节点。在(8)中，函数变化的结果是交换后节点的顺序，使用以下算法。通过上述两种方法，可以从原方案集上扩展出更多的未覆盖节点的排列，从而获得更多可用的无人机路径。
      		4. 在步骤2和步骤3之后，集合G中的路径数量增加了一倍。为了保持G的容量，在进行下一轮之前，计算每个路径gk的对应duk，并选择具有较小duk的一半作为新的G。然后重复上述步骤。

算法1显示了最小化轨迹长度的实现。时间是迭代的次数。集合选择被定义为从未通过步骤2的订单。函数选择随机匹配两个顺序作为ga和gb，生成两个新顺序。输出gbest为无人机的最终路径，dmin为最终路径的长度。

2)基线数据轨迹优化设计：最小距离算法满足无人机以最短飞行距离的未覆盖节点收集数据，并降低收集成本。但通过这种方式，无人机可能只碰巧通过几个被覆盖的节点，这导致收集的基线数据量也非常小。为了综合考虑这两个方面的性能，需要基于最小距离算法生成的最短路径进行局部优化，使无人机能够以较低的成本收集更多的基线数据。

我们的局部优化策略如图6所示。首先，对于最短路径的每一段（两个相邻节点之间的段是一个段），在具有段直径的圆形区域中寻找合适的覆盖节点。然后将这个节点插入到这个段中，如图6中的第二步。第三步说明了迭代优化会根据结果继续搜索更多被覆盖的节点第一轮。这样，经过多次优化，可以筛选出原始路径附近的覆盖节点。在这个过程中，关键问题是如何确定每个可用节点的适当性。在动机3中，提出了路径长度的增量和交互时间这两个指标。

为每个可选覆盖节点定义的计算值，其计算方法为公式(9)。Dd表示路径长度的增量，而d表示原始长度。ui表示节点是否与第i个载体交互。”和‘分别是两个指标的权重。在实际的优化过程中，已预定义了一个阈值；0。当节点的求值小于0时，添加该节点。具体的算法见算法2。在算法中，gbest是最短路径对应节点的顺序，t表示局部优化，搜索圈函数返回圆区域内覆盖的节点集合。

3)关于我们的算法的复杂性的分析：现在我们分析了轨迹优化算法的复杂性。在算法1中，对于一次迭代，在步骤2的选择中有x2对轨迹，每对轨迹产生两个新的轨迹，所以步骤2的次数为x 2 2¼x。在每个步骤2中，每个gb的元素都被遍历，所以总遍历时间为xi。在所有的父元素都完成了步骤2之后，G中的元素是双元素，步骤3共有2mx的元素。然后，计算G中每个轨迹的长度并进行排序，计算次数为2xi，平均排序次数为2xlog 2ð2xÞ。算法执行时间，因此基本操作时间为timesð3xiþ2mxþ2xlog 2ð2xÞÞ：算法2应用算法1的结果作为输入，对于一次迭代，需要i次或更多的时间计算附近节点的求值。有轮入的迭代时间，所以优化的基本操作时间是timesð3xiþ2mxþ2xlog 2ð2xÞÞþroundsðinÞ。由于算法2的迭代时间是非常小的相比算法1在实验中，算法的时间复杂度大约Oðtimes xiÞ：传统方法对应的算法1是找到最优解通过暴力枚举所有节点的顺序，其复杂性是Oðn！Þ。当节点数较大时，传统方法的复杂度显著增加。

#### C. 信任评估机制的设计

在数据采集过程中，车辆以机会路由的方式覆盖传感器节点。每辆车的驾驶路径都是随机的，所以它们收集的数据量是不同的。其次，一些车辆存在恶意行为，如不断提交虚假数据以获取奖励，导致提交给中心的数据的准确性较低。使用恶意的或非活动的车辆作为数据收集器可能会影响收集效率。但是，之前的研究只通过外部行为来评估车辆，而对提交的数据没有提供判断，因此由于不断地发送恶意车辆的动作，无法检测到恶意车辆。在本节中，我们将建立一个主动的、可验证的信任评估机制，根据所提交的历史数据对车辆的信任度进行评估，并选择信任度得分较高的车辆作为数据收集器。

对于每辆车，都有一个分数来决定它的信任度。在4.2中，我们为无人机设计了轨迹优化算法，使其能够在飞行过程中收集被覆盖的数据作为基线数据。如果车辆收集的数据与基线数据匹配，则根据机制进行改进，否则认为车辆不可靠，评分会降低。然而，在激励部分，我们提到，许多车辆不能根据无人机提供的有限的基线数据及时更新其分数。因此，提出了间接信任度：可以将直接高信任度的车辆数据作为下属基线数据来评价其他车辆的信任度。间接信任的评价方法如式（10）所示，其中tib表示第i个代理车辆评价的公共车辆b的信任，tui表示第i个代理车辆的信任。假设有k辆车可以提供下属b的基线数据	

接下来，我们将介绍关于信任分数的更新策略。在采集过程中，车辆的行为可分为以下三类：提交真实数据、提交数据不正确、长时间不通过节点。对于这三种行为类型，可以建立不同的分数更新方法。这些方法中使用的参数如表2所示。

1)增加评分：采集前，所有车辆的信任评分相同，并根据过程中的性能逐步更新。这里的相互作用右rr表示车辆与节点之间相互作用的影响，计算为Avi和Au的比值。Avi表示第i辆车收集的准确数据量，Au表示Avi对应的基线数据量。交互权越强，数据的准确性就越高，意味着车辆越可信。此外，还定义了一个阈值rs来确定是使用IS还是DS来更新评分。如果rr高于阈值rs，则应根据IS标准更新评分。在下面的公式（12）中，tr表示更新后的分数，tr1表示第r次评估前的分数。tmax为得分的最大值，等于或大于1。s为每次计算中增量的最大值，在0到1之间。

定理1：随着更新时间r的增加，应用IS的车辆的信任分数逐渐收敛，且不变小于tmax。证明：假设每一轮评估的分数都更新了最大的步长，即rrs¼1，得到以下不等式（13）。从证明的最后两步中，我们知道这脆弱！1tmaxrðtmax1Þrtðtmax1Þr¼1，当ðtmax1Þ接近正无穷时，ð1Þr趋于0，所以很小！1 trtmax，即分数收敛到一个小于tmax的值。根据Proof，可以看出，车辆的历史性能越好，分数的增量越小，分数最终收敛。图7中的黑色曲线和红色曲线也显示，当交互权值rr超过阈值rs时，随着更新时间的增加，分数继续增加。此外，rr越大，车辆的数据收集效果就越好，得分的增加也就越明显。

2)降低分数：当rr低于rs时，我们认为车辆与节点之间的交互失效，因此我们需要降低信任分数作为公式（14）。

定理2：随着更新时间r的增加，应用DS的车辆信任分数逐渐收敛且为正。证明：与IS类似，假设每一轮评估的分数更新步骤最大，即rr¼1。根据公式（15），当r趋于正无穷时，ðtmax1 tmaxÞr趋于0，所以小！1 tr  0.

图7中的蓝色曲线和绿色曲线表明，当r<<时，分数逐渐降低，rr值影响信任分数的降低。

3)超时惩罚：车辆的运动轨迹是随机的，所以有些车辆很可能长期没有与任何节点的交互，这是应该避免的。这种不活跃的车辆在收集过程中贡献很小，它们使成本增加。因此，考虑到车辆的活动度，提出用TP对这些车辆的得分进行更新，计算公式为公式（16）和公式（17）。Dpun为惩罚重量，g为惩罚重量，与空闲时间呈正相关：车辆无贡献的时间越长，惩罚重量越大。根据公式，可以看出，车辆的历史性能越好，分数衰减越小。图7中的粉色曲线和棕色曲线表示信任得分与应用TP的更新时间之间的关系，其中得分随着惩罚权重的增加而略有下降。因此，信任评估机制不仅通过提交的数据更新车辆的信任值，而且还通过交互频率对主动车辆进行筛选

#### D. TBVF-UAV算法的设计

问题声明提到使用低信任的车辆或在不适当的时间派遣无人机会降低收集效率。为了提高ITCN的效果，设计了TBVF-UAV（基于信任的车辆滤波器和无人机）算法，目的是找到无人机的最佳调度时间和最佳的车辆筛选比。在之前的工作中，优化过程与信任评估是分开的，因此它们之间缺乏联系。TBVF-UAV算法首先将轨迹优化算法与信任评估机制有机结合，综合考虑无人机的路径和车辆的信任，降低数据收集的效率，同时降低成本和采集时间。

已为该方案定义了目标函数MinðOÞ。当函数值达到最小值时，可以确定调度时间和数据采集器的数量。在TBVF-UAV算法中，需要调整的参数主要是t和t，它们分别表示调度时间和选择信任度较高的车辆的比例。为了保证目标函数达到最小值，我们逐步对参数进行调整，计算O的值，得到O最小的参数值t0和t0，对应于最优调度时间和最佳选择比率。Dt和Dt是调整的步长。





## 5  技术性能分析

#### A 实验设置

TBVF-UAV方案由Python实现。我们的模拟实验使用了数据集T-Drive，记录了2018年2月2日至2月8日期间北京地区大量出租车的经纬度。我们创建了一个网络区域来模拟北京的市中心，并在该区域内随机部署传感器节点来分析数据采集的性能。我们重复创建了多个不同的网络场景，以确保结果的有效性，并确保算法对不同的网络场景具有鲁棒性。

#### B.轨道优化的性能

首先，我们分析了固定节点的轨迹优化性能。根据第四节提出的最小距离算法，通过迭代对无人机的路径进行优化，给出了最终结果和一些图形。

在最小距离算法中，参数值可能会影响优化的性能。在应用该算法设计无人机的路径之前，我们首先分析了该算法对这些参数的影响，并为其设置适当的值。图8显示了不同参数下无人机的原路径长度和优化路径随调度时间的变化。由此可见，路径长度随调度时间的增加而减小。另一方面，比较红色曲线和黄色曲线，当交换概率m增加时，性能较好。这是因为内部交换可以增加传感器节点顺序的多样性，从而产生更大的可能产生更好的路径。因此，在优化过程中应选择较大的交换概率。此外，蓝色曲线和黄色曲线表示每一轮后保留的路径数的影响。可以看出，更多的保留路径有利于优化的效果。然而，当保留的路径继续增加时，优化效果并没有显著改善。同时，集合中路径的组合和交换也在增加，这降低了算法的效率。因此，我们需要综合考虑算法的效率和优化效果来选择每一轮保留的路径数。此外，根据图8中不同迭代次数的曲线，在不过度影响运行时间的前提下，选择较多的迭代次数有利于优化。

在执行优化之前，使用所有车辆作为数据收集器开始数据收集。如图9所示，在网络区域中随机部署了多个传感器节点，用较大的红点表示。表三显示了车辆收集的过程，收集节点数的增量随着采集时间的增加而减少，说明仅使用车辆不能再满足实时需求。因此，有必要筛选出未发现的节点，并使用最小距离算法来设计无人机的路径，否则部分数据可能会达到截止日期。基于上述分析，在应用该算法时，将适当的参数值设置为m¼0：1、x¼70和r¼1000。

通过车辆采集一段时间的数据后，采集过程如图10所示。蓝点代表被覆盖的节点，而红点是无人机需要收集的节点。我们可以看到，部署在车辆轨迹密集区域的节点首先被收集起来，并且大部分未覆盖的节点分布在热点周围。当无人机准备调度时，首先采用最小距离算法设计距离最短的路径。然而，除了降低收集成本外，另一个目标是满足无人机可以收集一些被覆盖的数据作为基线数据。因此，轨迹优化算法为然后在原始路径周围选择合适的覆盖节点，如图10中的绿点表示。然后将这些节点插入到原始路径中。在局部调整无人机的路径后，我们得到最终的路径为红线。

在轨迹优化算法中，节点是通过路径长度的增量和与车辆交互的频率来选择的。表四显示了“和”对被覆盖节点的选择的影响。已知评价函数是选择节点的约束条件，参数的值表示筛选节点的严格性。例如，当“非常大时，Dl必须足够小，以满足评估值小于阈值。因此，当参数值增加时，满足需求的覆盖节点就会更少。

综上所述，对固定节点的优化和对基线数据的局部优化都取得了良好的效果。应用最小距离算法后，无人机路径平均缩短了61.08%。则路径长度的增量仅为3.24%左右，但经过局部优化后，平均可重新收集8.15个覆盖节点，提供基线数据。

#### C 信托评估的绩效

第四节C提出了信任评估机制来评估车辆的信任，通过该机制可以过滤出信任得分高的主动车辆作为收集器。我们设计了一个仿真实验来分析该机构的性能。

考虑到车辆的行为并不是恒定的：恶意的车辆有时可能会假装为正常的车辆并上传真实的数据，而正常的车辆也可能会由于通信干扰等真实的环境因素而收集虚假的数据。我们根据应用场景随机生成正确的概率集P¼fp1；p2；p3……车辆的pmg。它满足高斯分布，符合现实规律：大多数普通车辆上传真实数据的正确概率相当高，只有一小部分车辆的正确概率特别高。恶意车辆的正确概率较低。

然后进行了数据采集的模拟实验，其过程如下。网络中的节点随机生成数据包，第i辆车通过该数据包，以正确的pi概率收集数据包。无人机可以收集这些被覆盖的数据作为基线数据。接下来，计算交互权，并可以更新车辆的信任度。

图11显示了评估轮如何更新车辆的信任度。曲线根据最终的信任度分数进行分类：红色曲线表示信任度分数高于初始分数的车辆，绿色曲线表示信任度较低的车辆。可以看出，一些曲线一直在初始分数附近，用黄色表示，说明它们可能不参与信任评估，或者只应用了TP，因此信任分数略有减弱。因此，可以初步确定这类车辆不活动。其次，我们可以看到，在每一轮评估后，都有一些车辆的信任值得到了第一次更新，用图11中的圆圈标记。它表示在前几轮中选择的代理车辆，通过提供下属的基线数据，扩展了评估的范围。

然后筛选出几种信任度最高的车辆作为数据收集器，形成过滤后的组。通过比较由随机选取的1000辆车辆组成的过滤组和未过滤组的收集效率，可以分析信任评价机制的性能。图12显示了不同组的收集速率。收集率定义为真实覆盖数据的数量与使用的车辆数量的比率。我们发现，包含500辆可信车辆的被过滤组的收集率高于其他车辆，这表明收集速度更高，被过滤组收集的数据更可靠。但是，选择太多的车辆作为收集器也会降低收集效率，因此我们需要应用TBVF-UAV算法，根据实际情况确定最佳筛选率。以上结果初步说明了信任评价机制的有效性。

#### D. TBVF-UAV算法的性能

本节将对TBVF-UAV算法的性能进行分析。首先，优化过程中参数对单项指标的影响如图13所示到图15。图13显示了不同屏幕比下成本率随调度时间的变化，可见车辆过少或过多不利于降低成本。此外，当比率较大时，成本率在下半年开始逐渐上升，如图中t¼0：6的曲线。这是因为太多车辆的成本随着采集时间的增加而迅速增加，这大于无人机成本的降低，导致总成本的增加。另外，当我们使用[23]中的策略作为原始方案时，如果找到合适的t，成本率总是小于1，这表明我们的策略能够降低收集成本：使用更少的车辆收集的数据与使用所有车辆收集的数据一样多。从图14可以看出，时间率随采集时间的增加稳步增加，但屏幕比对采集的影响不大。与[23]策略相比，因为我们的主要区别收集时间之间的策略和原始方案[23]在无人机的飞行时间，非常短，时间率总是接近1，表明收集时间本质上是相同的。

在图15中，错误率随着调度时间的增加而逐渐增加，因为无人机调度的时间越晚，未采集的数据越多到达截止日期，成为无效。此外，筛选率对错误率的影响很大，当错误率为0.2时达到最小值。由于车辆是根据信任度进行筛选的，所以当选择少量车辆时，平均信任度得分越高，其准确性越高。但是，收集的数据量不足，导致更多的数据死亡，因此错误率增加。相反，如果筛选率过高，到达截止日期的数据量就会减少，但由于平均信任度会降低，收集的准确性也会降低。因此，我们应该牺牲收集器的数量，使错误率最小。另外，图15中的上曲线说明了当[23]策略作为原方案时错误率的变化。由于TBFUAV筛选可信和主动车辆，车辆收集的错误数据量和到达截止日期的数据量明显少于没有信任评估机制的数据量。

接下来，我们综合考虑了收集成本、收集时间和数据质量，分析了当参数t和t同时变化时，目标函数的值。如图16所示，表面代表目标函数。应用TBVF-UAV算法可以得到图16中最低点对应的参数的最优值。最后，我们得到了结果：当t¼0：156其中具有最高信任分数的780辆车辆被筛选为收集器，无人机在58小时后被发送，目标函数的值达到最小的0.669。与原方案相比，成本仅增加了12.33%，采集时间减少了58.32%，准确率提高了33.34%。与仅使用无人机相比，成本降低了约35.08%。上述实验结果基本证明了TBVF-UAV算法的有效性。

接下来，我们将该算法应用到另一个场景中来分析其可用性。实验的基本场景是模拟上海中100个传感器节点的随机部署，可以提供1000辆车辆作为数据收集器。采用TBVF-UAV算法求出最佳参数值。仿真结果表明，当t¼0：42时，选择信任分数最高的420辆车辆作为收集器，无人机在12小时后发送，使得目标函数的值达到最小的0.467。与原方案相比，成本降低了14.32%，采集时间节省了91.65%，数据采集效率提高了69.73%。





## 6 结论和未来的工作

在智能城市中，部署了许多传感器节点来监控环境。利用车辆通过机会路由从传感器收集数据是一种可行的方法。但是，只有依靠车辆，效率就会随着采集时间的推移而逐渐降低，部分数据可能会因为等待时间较长而被丢弃。为了保证数据的完整性，我们设计了一个系统ITCN，让车辆和无人机以协作的方式收集数据。为了降低采集成本，首先设计了基于人工智能的最小距离算法，以缩短无人机的轨迹长度。此外，一些恶意车辆可能会通过向数据中心提交虚假数据来攻击系统，这损害了传感器节点的安全和隐私。为了保证数据的准确性，通过计算车辆数据与无人机收集的基线数据的匹配程度来评估车辆的信任度，然后过滤出不可信的车辆。为了降低收集基线数据的额外成本，提出了轨迹优化算法，保证了无人机在控制路径长度增量的同时收集更多的覆盖数据。最后，为了找到无人机的最佳调度时间和车辆达到最佳系统性能的筛选率，提出了TBVF-UAV算法。应用TBVF-UAV的仿真证明了ITCN在降低采集成本和提高数据精度方面的性能。

在实验分析中，我们可以合理地猜测大多数车辆的运动轨迹和采集行为具有一定的规律性。因此，在未来，我们将使用与机器学习相关的数据挖掘技术来分析车辆的运动轨迹，并预测车辆的未来路径。这样，就可以考虑到车辆之前的信息，并在预测加入信任评估机制时继续扩展。